<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <meta name="format-detection" content="telephone=no" /> 
        <meta name="format-detection" content="email=no" />
        <meta name="keywords" content="" />
        <meta name="description" content="" />
        <title>Base</title>
        <style type="text/css">
            canvas { border: 1px solid black; }
        </style>
    </head>
    <body>

        <canvas id="canvas1" width="500" height="500">You browser do not support canvas</canvas>
    
        <script type="text/javascript" src="./js/utils.js"></script>
        <script type="text/javascript">
            window.onload=function(){
                var canvas=document.getElementById("canvas1");
                if (canvas.getContext){ 
                    var ctx=canvas.getContext("2d");
                    (function drawFrame(){
                        window.requestAnimationFrame(drawFrame);
                        ctx.clearRect(0,0,canvas.width,canvas.height);
                        
                        ctx.save();
                        ctx.translate(75,75);
                        ctx.scale(0.4,0.4);
                        ctx.rotate(-Math.PI/2);
                        ctx.strokeStyle = "black";
                        ctx.fillStyle = "white";
                        ctx.lineWidth = 8;
                        ctx.lineCap = "round";

                        // Hour marks
                        ctx.save();
                        for (var i=0;i<12;i++){
                            ctx.beginPath();
                            ctx.rotate(Math.PI/6);
                            ctx.moveTo(100,0);
                            ctx.lineTo(120,0);
                            ctx.stroke();
                        }
                        ctx.restore();

                        // Minute marks
                        ctx.save();
                        ctx.lineWidth = 5;
                        for (i=0;i<60;i++){
                            if (i%5!=0) {
                                ctx.beginPath();
                                ctx.moveTo(117,0);
                                ctx.lineTo(120,0);
                                ctx.stroke();
                            }
                            ctx.rotate(Math.PI/30);
                        }
                        ctx.restore();
                        
                        var sec = now.getSeconds();
                        var min = now.getMinutes();
                        var hr  = now.getHours();
                        hr = hr>=12 ? hr-12 : hr;

                        ctx.fillStyle = "black";

                        // write Hours
                        ctx.save();
                        ctx.rotate( hr*(Math.PI/6) + (Math.PI/360)*min + (Math.PI/21600)*sec )
                        ctx.lineWidth = 14;
                        ctx.beginPath();
                        ctx.moveTo(-20,0);
                        ctx.lineTo(80,0);
                        ctx.stroke();
                        ctx.restore();

                        // write Minutes
                        ctx.save();
                        ctx.rotate( (Math.PI/30)*min + (Math.PI/1800)*sec )
                        ctx.lineWidth = 10;
                        ctx.beginPath();
                        ctx.moveTo(-28,0);
                        ctx.lineTo(112,0);
                        ctx.stroke();
                        ctx.restore();
                        
                        // Write seconds
                        ctx.save();
                        ctx.rotate(sec * Math.PI/30);
                        ctx.strokeStyle = "#D40000";
                        ctx.fillStyle = "#D40000";
                        ctx.lineWidth = 6;
                        ctx.beginPath();
                        ctx.moveTo(-30,0);
                        ctx.lineTo(83,0);
                        ctx.stroke();
                        ctx.beginPath();
                        ctx.arc(0,0,10,0,Math.PI*2,true);
                        ctx.fill();
                        ctx.beginPath();
                        ctx.arc(95,0,10,0,Math.PI*2,true);
                        ctx.stroke();
                        ctx.fillStyle = "rgba(0,0,0,0)";
                        ctx.arc(0,0,3,0,Math.PI*2,true);
                        ctx.fill();
                        ctx.restore();

                        ctx.beginPath();
                        ctx.lineWidth = 14;
                        ctx.strokeStyle = '#325FA2';
                        ctx.arc(0,0,142,0,Math.PI*2,true);
                        ctx.stroke();

                        ctx.restore();
                    }());
                }
            };
        </script>
    </body>
</html>